---
source: test-package-compiler/src/generated_tests.rs
assertion_line: 153
expression: "./cases/import_shadowed_name_warning"
---
//// /out/lib/the_package/_gleam_artefacts/one.cache
<.cache binary>

//// /out/lib/the_package/_gleam_artefacts/one.cache_meta
<21 byte binary>

//// /out/lib/the_package/_gleam_artefacts/one.erl
-module(one).
-compile(no_auto_import).

-export_type([port_/0]).

-type port_() :: any().




//// /out/lib/the_package/_gleam_artefacts/two.cache
<.cache binary>

//// /out/lib/the_package/_gleam_artefacts/two.cache_meta
<32 byte binary>

//// /out/lib/the_package/_gleam_artefacts/two.erl
-module(two).
-compile(no_auto_import).

-export([use_type/1]).
-export_type([shadowing/0]).

-type shadowing() :: port.

-spec use_type(one:port_()) -> nil.
use_type(Field@0) ->
    wibble:wobble(Field@0).


//// /out/lib/the_package/ebin/importy.app
{application, importy, [
    {vsn, "0.1.0"},
    {applications, []},
    {description, ""},
    {modules, [one,
               two]},
    {registered, []}
]}.


//// Warning
Type {
    path: "src/two.gleam",
    src: "//// https://github.com/gleam-lang/otp/pull/22\n\n// No warning should be emitted about this imported type. The compiler does not\n// confuse it for the value constructor defined below.\nimport one.{Port}\n\ntype Shadowing {\n  // This value constructor has the same name as the imported type.\n  Port\n}\n\n// Here the type is used.\npub external fn use_type(Port) -> Nil =\n  \"wibble\" \"wobble\"\n",
    warning: UnusedConstructor {
        location: SrcSpan {
            start: 289,
            end: 293,
        },
        imported: false,
        name: "Port",
    },
}

//// Warning
Type {
    path: "src/two.gleam",
    src: "//// https://github.com/gleam-lang/otp/pull/22\n\n// No warning should be emitted about this imported type. The compiler does not\n// confuse it for the value constructor defined below.\nimport one.{Port}\n\ntype Shadowing {\n  // This value constructor has the same name as the imported type.\n  Port\n}\n\n// Here the type is used.\npub external fn use_type(Port) -> Nil =\n  \"wibble\" \"wobble\"\n",
    warning: UnusedType {
        location: SrcSpan {
            start: 202,
            end: 216,
        },
        imported: false,
        name: "Shadowing",
    },
}


